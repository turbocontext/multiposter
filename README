нужно заставить человека войти во все аккуанты, откуда он хочет постить, попутно сохраняя access_tokens

https://developers.facebook.com/roadmap/offline-access-removal/
Once the migration is enabled, if the access_token is generated from a server-side OAuth call, the resulting access_token will have the longer expiration time by default. If the call is made while there is still a valid long-lived user access_token for that user, the returned user access_token from this second call may be the same or may have changed, but in either case the expiration time will be set to a long expiration time.
Note: The user must access your application before you're able to get a valid "authorization Code" to be able to make the server-side OAuth call again. Apps will not be able to setup a background/cron job that tries to automatically extend the expiration time, because the "authorization code" is short-lived and will have expired.


MessageSet accepts_nested_attributes_for messages
http://api.rubyonrails.org/classes/ActiveRecord/NestedAttributes/ClassMethods.html


1.9.3p0 :009 > puts link.to_yaml
--- !ruby/object:FbGraph::Link
identifier: '155670801267019'
endpoint: https://graph.facebook.com/155670801267019
access_token: AAADc88x773ABAJaTdBUuHumvzzICTdQGUlAHXXC6fYFwHVOShzalxZBTrMnrUmJKAN92PWLgs9FBcUBwVE8ipHUbc1ISLGhWi9Gtr653y12hZBm2Am
raw_attributes:
  :access_token: AAADc88x773ABAJaTdBUuHumvzzICTdQGUlAHXXC6fYFwHVOShzalxZBTrMnrUmJKAN92PWLgs9FBcUBwVE8ipHUbc1ISLGhWi9Gtr653y12hZBm2Am
  :link: http://kavigator.ru/articles/24458
  :message: Врио главы Дагестана Рамазан Абдулатипов заявил, что выбирать руководителя
    республики скорее всего будет региональный парламент.
  id: '155670801267019'
cached_collections:
  :comments:
name:
link: http://kavigator.ru/articles/24458
description:
icon:
picture:
message: Врио главы Дагестана Рамазан Абдулатипов заявил, что выбирать руководителя
  республики скорее всего будет региональный парламент.
